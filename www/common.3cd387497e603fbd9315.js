(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+veT":function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return o});var a=n("dSyh"),i=n("kBU6");const o=e=>new Promise((t,n)=>{Object(a.m)(()=>{r(e),s(e).then(n=>{n.animation&&n.animation.destroy(),l(e),t(n)},t=>{l(e),n(t)})})}),r=e=>{const t=e.enteringEl,n=e.leavingEl;k(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),O(t,!1),n&&O(n,!1)},s=async e=>{const t=await c(e);return t?u(t,e):h(e)},l=e=>{const t=e.leavingEl;e.enteringEl.classList.remove("ion-page-invisible"),void 0!==t&&t.classList.remove("ion-page-invisible")},c=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await(()=>n.e(102).then(n.bind(null,"Lu00")))()).iosTransitionAnimation:(await(()=>n.e(103).then(n.bind(null,"wxTh")))()).mdTransitionAnimation},u=async(e,t)=>{let a;await d(t,!0);try{const i=await n.e(6).then(n.bind(null,"gHMO"));a=await i.create(e,t.baseEl,t)}catch(o){a=e(t.baseEl,t)}m(t.enteringEl,t.leavingEl);const i=await b(a,t);return t.progressCallback&&t.progressCallback(void 0),i&&g(t.enteringEl,t.leavingEl),{hasCompleted:i,animation:a}},h=async e=>{const t=e.enteringEl,n=e.leavingEl;return await d(e,!1),m(t,n),g(t,n),{hasCompleted:!0}},d=async(e,t)=>{const n=(void 0!==e.deepWait?e.deepWait:t)?[w(e.enteringEl),w(e.leavingEl)]:[v(e.enteringEl),v(e.leavingEl)];await Promise.all(n),await p(e.viewIsReady,e.enteringEl)},p=async(e,t)=>{e&&await e(t)},b=(e,t)=>{const n=t.progressCallback,a=new Promise(t=>{e.onFinish(n=>{"number"==typeof n?t(1===n):void 0!==e.hasCompleted&&t(e.hasCompleted)})});return n?(e.progressStart(!0),n(e)):e.play(),a},m=(e,t)=>{f(t,i.c),f(e,i.a)},g=(e,t)=>{f(e,i.b),f(t,i.d)},f=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},v=e=>e&&e.componentOnReady?e.componentOnReady():Promise.resolve(),w=async e=>{const t=e;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(w))}},O=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},k=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},y=e=>e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e},"7ASG":function(e,t,n){"use strict";var a=n("8Y7J"),i=n("oBZk"),o=n("ZZ/e"),r=n("9Uo9");n.d(t,"a",function(){return u});var s=a.lb({encapsulation:0,styles:[[".map[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-color:transparent;opacity:0;transition:opacity 150ms ease-in}.map.visible[_ngcontent-%COMP%]{opacity:1}"]],data:{}});function l(e){return a.Fb(0,[a.Bb(402653184,1,{mapElementRef:0}),(e()(),a.nb(1,0,null,null,11,"ion-header",[],null,null,null,i.eb,i.o)),a.mb(2,49152,null,0,o.C,[a.h,a.k,a.x],null,null),(e()(),a.nb(3,0,null,0,9,"ion-toolbar",[],null,null,null,i.Eb,i.O)),a.mb(4,49152,null,0,o.Db,[a.h,a.k,a.x],null,null),(e()(),a.nb(5,0,null,0,2,"ion-title",[],null,null,null,i.Db,i.N)),a.mb(6,49152,null,0,o.Bb,[a.h,a.k,a.x],null,null),(e()(),a.Db(7,0,["",""])),(e()(),a.nb(8,0,null,0,4,"ion-buttons",[["slot","primary"]],null,null,null,i.U,i.e)),a.mb(9,49152,null,0,o.m,[a.h,a.k,a.x],null,null),(e()(),a.nb(10,0,null,0,2,"ion-button",[],null,[[null,"click"]],function(e,t,n){var a=!0;return"click"===t&&(a=!1!==e.component.onCancel()&&a),a},i.T,i.d)),a.mb(11,49152,null,0,o.l,[a.h,a.k,a.x],null,null),(e()(),a.Db(12,0,["",""])),(e()(),a.nb(13,0,null,null,2,"ion-content",[],null,null,null,i.bb,i.l)),a.mb(14,49152,null,0,o.v,[a.h,a.k,a.x],null,null),(e()(),a.nb(15,0,[[1,0],["map",1]],0,0,"div",[["class","map"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,7,0,n.title),e(t,12,0,n.closeButtonText)})}function c(e){return a.Fb(0,[(e()(),a.nb(0,0,null,null,1,"app-map-modal",[],null,null,null,l,s)),a.mb(1,4440064,null,0,r.a,[o.Jb,a.B],null,null)],function(e,t){e(t,1,0)},null)}var u=a.jb("app-map-modal",r.a,c,{center:"center",selectable:"selectable",closeButtonText:"closeButtonText",title:"title"},{},[])},"9Uo9":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n("ZZ/e");var a=n("AytR");class i{constructor(e,t){this.modalCtrl=e,this.renderer=t,this.center={lat:47.3651,lng:28.7275},this.selectable=!0,this.closeButtonText="Cancel",this.title="Pick Location"}ngOnInit(){}ngAfterViewInit(){this.getGoogleMaps().then(e=>{this.googleMaps=e;const t=this.mapElementRef.nativeElement,n=new e.Map(t,{center:this.center,zoom:16});this.googleMaps.event.addListenerOnce(n,"idle",()=>{this.renderer.addClass(t,"visible")}),this.selectable?this.clickListener=n.addListener("click",e=>{const t={lat:e.latLng.lat(),lng:e.latLng.lng()};this.modalCtrl.dismiss(t)}):new e.Marker({position:this.center,map:n,title:"Picked Location"}).setMap(n)}).catch(e=>{console.log(e)})}onCancel(){this.modalCtrl.dismiss()}ngOnDestroy(){this.clickListener&&this.googleMaps.event.removeListener(this.clickListener)}getGoogleMaps(){const e=window,t=e.google;return t&&t.maps?Promise.resolve(t.maps):new Promise((t,n)=>{const i=document.createElement("script");i.src="https://maps.googleapis.com/maps/api/js?key="+a.a.googleMapsAPIKey,i.async=!0,i.defer=!0,document.body.appendChild(i),i.onload=(()=>{const a=e.google;a&&a.maps?t(a.maps):n("Google maps SDK not available.")})})}}},Dl6n:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});const a=(e,t)=>null!==t.closest(e),i=e=>"string"==typeof e&&e.length>0?{"ion-color":!0,[`ion-color-${e}`]:!0}:void 0,o=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},r=/^[a-z][a-z0-9+\-.]*:/,s=async(e,t,n)=>{if(null!=e&&"#"!==e[0]&&!r.test(e)){const a=document.querySelector("ion-router");if(a)return null!=t&&t.preventDefault(),a.push(e,n)}return!1}},PCNd:function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{}},Qe3P:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("2Vo4"),i=n("LRne"),o=n("IzEk"),r=n("eIep"),s=n("lJxs"),l=n("vkgz"),c=n("ejWc"),u=n("qXBG"),h=n("8Y7J"),d=n("IheW");class p{constructor(e,t){this.authService=e,this.http=t,this._places=new a.a([])}get places(){return this._places.asObservable()}fetchPlaces(){return this.authService.token.pipe(Object(o.a)(1),Object(r.a)(e=>this.http.get(`https://ionic-angular-app-ab6e9.firebaseio.com/offered-places.json?auth=${e}`)),Object(s.a)(e=>{const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(new c.a(n,e[n].title,e[n].description,e[n].imageUrl,e[n].price,new Date(e[n].availableFrom),new Date(e[n].availableTo),e[n].userId,e[n].location));return t}),Object(l.a)(e=>{this._places.next(e)}))}getPlace(e){return this.authService.token.pipe(Object(o.a)(1),Object(r.a)(t=>this.http.get(`https://ionic-angular-app-ab6e9.firebaseio.com/offered-places/${e}.json?auth=${t}`)),Object(s.a)(t=>new c.a(e,t.title,t.description,t.imageUrl,t.price,new Date(t.availableFrom),new Date(t.availableTo),t.userId,t.location)))}uploadImage(e){const t=new FormData;return t.append("image",e),this.authService.token.pipe(Object(o.a)(1),Object(r.a)(e=>this.http.post("https://us-central1-ionic-angular-app-ab6e9.cloudfunctions.net/storeImage",t,{headers:{Authorization:"Bearer "+e}})))}addPlace(e,t,n,a,i,s,u){let h,d,p;return this.authService.userId.pipe(Object(o.a)(1),Object(r.a)(e=>(d=e,this.authService.token)),Object(o.a)(1),Object(r.a)(o=>{if(!d)throw new Error("No user found!");return p=new c.a(Math.random().toString(),e,t,u,n,a,i,d,s),this.http.post(`https://ionic-angular-app-ab6e9.firebaseio.com/offered-places.json?auth=${o}`,Object.assign({},p,{id:null}))}),Object(r.a)(e=>(h=e.name,this.places)),Object(o.a)(1),Object(l.a)(e=>{p.id=h,this._places.next(e.concat(p))}))}updatePlace(e,t,n){let a,s;return this.authService.token.pipe(Object(o.a)(1),Object(r.a)(e=>(s=e,this.places)),Object(o.a)(1),Object(r.a)(e=>!e||e.length<=0?this.fetchPlaces():Object(i.a)(e)),Object(r.a)(i=>{const o=i.findIndex(t=>t.id===e),r=(a=[...i])[o];return a[o]=new c.a(r.id,t,n,r.imageUrl,r.price,r.availableFrom,r.availableTo,r.userId,r.location),this.http.put(`https://ionic-angular-app-ab6e9.firebaseio.com/offered-places/${e}.json?auth=${s}`,Object.assign({},a[o],{id:null}))}),Object(l.a)(()=>{this._places.next(a)}))}}p.ngInjectableDef=h.Q({factory:function(){return new p(h.U(u.a),h.U(d.c))},token:p,providedIn:"root"})},VFTF:function(e,t,n){"use strict";var a=n("2Vo4"),i=n("IzEk"),o=n("eIep"),r=n("vkgz"),s=n("lJxs");class l{constructor(e,t,n,a,i,o,r,s,l,c){this.id=e,this.placeId=t,this.userId=n,this.placeTitle=a,this.placeImage=i,this.firstName=o,this.lastName=r,this.guestNumber=s,this.bookedFrom=l,this.bookedTo=c}}var c=n("qXBG"),u=n("8Y7J"),h=n("IheW");n.d(t,"a",function(){return d});class d{constructor(e,t){this.authService=e,this.http=t,this._bookings=new a.a([])}get bookings(){return this._bookings.asObservable()}addBooking(e,t,n,a,s,c,u,h){let d,p,b;return this.authService.userId.pipe(Object(i.a)(1),Object(o.a)(e=>{if(!e)throw new Error("No user id found!");return b=e,this.authService.token}),Object(i.a)(1),Object(o.a)(i=>(p=new l(Math.random().toString(),e,b,t,n,a,s,c,u,h),this.http.post(`https://ionic-angular-app-ab6e9.firebaseio.com/bookings.json?auth=${i}`,Object.assign({},p,{id:null})))),Object(o.a)(e=>(d=e.name,this.bookings)),Object(i.a)(1),Object(r.a)(e=>{p.id=d,this._bookings.next(e.concat(p))}))}cancelBooking(e){return this.authService.token.pipe(Object(i.a)(1),Object(o.a)(t=>this.http.delete(`https://ionic-angular-app-ab6e9.firebaseio.com/bookings/${e}.json?auth=${t}`)),Object(o.a)(()=>this.bookings),Object(i.a)(1),Object(r.a)(t=>{this._bookings.next(t.filter(t=>t.id!==e))}))}fetchBookings(){let e;return this.authService.userId.pipe(Object(i.a)(1),Object(o.a)(t=>{if(!t)throw new Error("User not found!");return e=t,this.authService.token}),Object(i.a)(1),Object(o.a)(t=>this.http.get(`https://ionic-angular-app-ab6e9.firebaseio.com/bookings.json?orderBy="userId"&equalTo="${e}"&auth=${t}`)),Object(s.a)(e=>{const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(new l(n,e[n].placeId,e[n].userId,e[n].placeTitle,e[n].placeImage,e[n].firstName,e[n].lastName,e[n].guestNumber,new Date(e[n].bookedFrom),new Date(e[n].bookedTo)));return t}),Object(r.a)(e=>{this._bookings.next(e)}))}}d.ngInjectableDef=u.Q({factory:function(){return new d(u.U(c.a),u.U(h.c))},token:d,providedIn:"root"})},YtD4:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a=e=>{try{if("string"!=typeof e||""===e)return e;const n=document.createDocumentFragment(),a=document.createElement("div");n.appendChild(a),a.innerHTML=e,s.forEach(e=>{const t=n.querySelectorAll(e);for(let a=t.length-1;a>=0;a--){const e=t[a];e.parentNode?e.parentNode.removeChild(e):n.removeChild(e);const r=o(e);for(let t=0;t<r.length;t++)i(r[t])}});const r=o(n);for(let e=0;e<r.length;e++)i(r[e]);const l=document.createElement("div");l.appendChild(n);const c=l.querySelector("div");return null!==c?c.innerHTML:l.innerHTML}catch(t){return console.error(t),""}},i=e=>{if(e.nodeType&&1!==e.nodeType)return;for(let n=e.attributes.length-1;n>=0;n--){const t=e.attributes.item(n),a=t.name;if(!r.includes(a.toLowerCase())){e.removeAttribute(a);continue}const i=t.value;null!=i&&i.toLowerCase().includes("javascript:")&&e.removeAttribute(a)}const t=o(e);for(let n=0;n<t.length;n++)i(t[n])},o=e=>null!=e.children?e.children:e.childNodes,r=["class","id","href","src","name","slot"],s=["script","style","iframe","meta","link","object","embed"]},ejWc:function(e,t,n){"use strict";n.d(t,"a",function(){return a});class a{constructor(e,t,n,a,i,o,r,s,l){this.id=e,this.title=t,this.description=n,this.imageUrl=a,this.price=i,this.availableFrom=o,this.availableTo=r,this.userId=s,this.location=l}}},m9yc:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});const a=async(e,t,n,a,i)=>{if(e)return e.attachViewToDom(t,n,i,a);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return a&&a.forEach(e=>o.classList.add(e)),i&&Object.assign(o,i),t.appendChild(o),o.componentOnReady&&await o.componentOnReady(),o},i=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},"nN+u":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});const a=(e,t,n)=>{const a=new MutationObserver(e=>{n(i(e,t))});return a.observe(e,{childList:!0,subtree:!0}),a},i=(e,t)=>{let n;return e.forEach(e=>{for(let a=0;a<e.addedNodes.length;a++)n=o(e.addedNodes[a],t)||n}),n},o=(e,t)=>{if(1===e.nodeType)return(e.tagName===t.toUpperCase()?[e]:Array.from(e.querySelectorAll(t))).find(e=>!0===e.checked)}},opz7:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a});const a=()=>{const e=window.TapticEngine;e&&e.selection()},i=()=>{const e=window.TapticEngine;e&&e.gestureSelectionStart()},o=()=>{const e=window.TapticEngine;e&&e.gestureSelectionChanged()},r=()=>{const e=window.TapticEngine;e&&e.gestureSelectionEnd()}},qaSm:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});class a{constructor(e,t){this.x=e,this.y=t}}const i=(e,t,n,a,i)=>{const s=r(e.y,t.y,n.y,a.y,i);return o(e.x,t.x,n.x,a.x,s[0])},o=(e,t,n,a,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+a*i))-e*Math.pow(i-1,3),r=(e,t,n,a,i)=>s((a-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),s=(e,t,n,a)=>{if(0===e)return((e,t,n)=>{const i=t*t-4*e*a;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]})(t,n);const i=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(a/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];const r=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===r)return[Math.pow(o/2,.5)-t/3];if(r>0)return[Math.pow(-o/2+Math.sqrt(r),1/3)-Math.pow(o/2+Math.sqrt(r),1/3)-t/3];const s=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(s,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]}}}]);